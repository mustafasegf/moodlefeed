<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@forevolve/bootstrap-dark@1.0.0/dist/css/bootstrap-dark.min.css" />

    <script>
      const submitHandler = async (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        let data = {};
        for (let key of formData.keys()) {
          data[key] = formData.get(key);
        }
        const response = await fetch(window.location.href, {
          method: "POST",
          body: JSON.stringify(data),
        });
        const resData = await response.json()
        console.log(resData)
        document.getElementById("res").innerHTML = resData.message
      };
    </script>
    <title>SceleFeed</title>
  </head>
  <body>
    <div class="d-flex flex-row justify-content-center align-items-center text-center my-5 mx-4">
      <div class="">
        <h1>Welcome To SceleFeed</h1>
        <br />
        <br />
        <p class="lead">The app that will remind you of updates on scele</p>
        <p class="lead">
          This app wont record your uesrname nor password. it works by using api token from scele
        </p>
        <p class="lead">This app is still in beta stages</p>
        <br />
        <br />

        <form id="form" action="/login" method="POST" onsubmit="submitHandler(event)">
          <label for="username" class="form-label text-start">Scele Username</label>
          <input type="text" class="form-control" name="username" />
          <br />
          <label for="password" class="form-label">Scele Password</label>
          <input type="password" class="form-control" name="password" />

          <br />
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <br />
        <p id="res"></p>
      </div>
    </div>
  </body>
</html>
